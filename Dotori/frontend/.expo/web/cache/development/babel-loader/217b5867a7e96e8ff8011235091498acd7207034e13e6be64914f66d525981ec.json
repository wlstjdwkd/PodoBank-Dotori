{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport HeaderComponent from \"../Components/HeaderScreen\";\nimport { userEmailCodeVerificate, userSendEmail } from \"../../apis/userapi\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SignUp2Screen(_ref) {\n  var _ref2, _ref3, _ref4;\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var emailCodeInputRef = useRef(null);\n  var _useState = useState(route.params.userInfo),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    emailVerificationCode = _useState4[0],\n    setEmailVerificationCode = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isValidEmailCode = _useState6[0],\n    setIsValidEmailCode = _useState6[1];\n  var _useState7 = useState(180),\n    _useState8 = _slicedToArray(_useState7, 2),\n    countdown = _useState8[0],\n    setCountdown = _useState8[1];\n  var _useState9 = useState(true),\n    _useState10 = _slicedToArray(_useState9, 2),\n    startCountdown = _useState10[0],\n    setStartCountdown = _useState10[1];\n  var _useState11 = useState(\"\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    codeMessage = _useState12[0],\n    setCodeMessage = _useState12[1];\n  var handleEmailCodeVerificate = function handleEmailCodeVerificate() {\n    var isCodeRight = /^[0-9]{4}$/.test(emailVerificationCode);\n    if (isCodeRight) {\n      doEmailCodeVerificate();\n    } else {\n      setCodeMessage('4자리 숫자 코드를 입력하세요.');\n    }\n  };\n  var doEmailCodeVerificate = function doEmailCodeVerificate() {\n    return (_ref2 = _ref2 || _asyncToGenerator(function* () {\n      try {\n        var response = yield userEmailCodeVerificate(userInfo.id, emailVerificationCode);\n        console.log(response.data);\n        console.log(response.status);\n        if (response.status === 200) {\n          console.log(\"이메일 인증 코드 확인 성공\");\n          setCodeMessage(\"인증 완료\");\n          setIsValidEmailCode(true);\n          setStartCountdown(false);\n        } else if (response.status === 404) {\n          console.log(\"이메일 인증 코드가 올바르지 않습니다.\");\n          setCodeMessage(\"인증에 실패하셨습니다.\");\n          setIsValidEmailCode(false);\n        } else if (response.status === 409) {\n          console.log(\"인증번호가 만료되었습니다.\");\n          setCodeMessage(\"인증에 실패하셨습니다.\");\n          setIsValidEmailCode(false);\n        } else {\n          setCodeMessage(\"오류발생: 인증에 실패하셨습니다.\");\n          setIsValidEmailCode(false);\n        }\n      } catch (error) {\n        setCodeMessage(\"오류발생: 인증에 실패하셨습니다.\");\n        setIsValidEmailCode(false);\n      }\n    })).apply(this, arguments);\n  };\n  var handleSendEmail = function handleSendEmail() {\n    return (_ref3 = _ref3 || _asyncToGenerator(function* () {\n      if (!isValidEmailCode) {\n        doSendEmail();\n      }\n    })).apply(this, arguments);\n  };\n  var doSendEmail = function doSendEmail() {\n    return (_ref4 = _ref4 || _asyncToGenerator(function* () {\n      setStartCountdown(false);\n      try {\n        var response = yield userSendEmail(email);\n        if (response.status === 200) {\n          setCountdown(5);\n          setStartCountdown(true);\n        } else if (response.status === 409) {\n          setCodeMessage('이미 사용중인 이메일입니다.');\n          setCannotUseEmail(function (prev) {\n            [].concat(_toConsumableArray(prev), [email]);\n          });\n          console.log(\"사용중인 이메일입니다.\");\n        } else {\n          console.log(\"오류 발생 : 이메일을 전송 실패\");\n          setCodeMessage(\"오류 발생 : 이메일을 전송 실패\");\n        }\n      } catch (error) {\n        console.log('오류발생', error);\n        setCodeMessage(\"오류 발생 : 이메일을 전송 실패\");\n      }\n    })).apply(this, arguments);\n  };\n  useEffect(function () {\n    var intervalId;\n    if (startCountdown && countdown > 0) {\n      intervalId = setInterval(function () {\n        setCountdown(function (countdown) {\n          return countdown - 1;\n        });\n      }, 1000);\n    } else if (startCountdown === true && countdown === 0) {\n      clearInterval(intervalId);\n      setCodeMessage('이메일 인증시간 만료');\n    }\n    return function () {\n      return clearInterval(intervalId);\n    };\n  }, [startCountdown, countdown]);\n  useEffect(function () {\n    emailCodeInputRef.current.focus();\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(HeaderComponent, {\n      title: \"\\uD68C\\uC6D0\\uAC00\\uC785(2/4)\",\n      cancelNavi: \"LoginScreen\",\n      navigation: navigation\n    }), _jsxs(View, {\n      style: styles.innerContainer,\n      children: [_jsxs(View, {\n        style: styles.header,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \"\\uC778\\uC99D \\uCF54\\uB4DC \\uC785\\uB825\\uD558\\uAE30\"\n        }), _jsxs(View, {\n          style: styles.subtitle,\n          children: [_jsx(Text, {\n            style: styles.grayText,\n            children: \"\\uC774\\uBA54\\uC77C\\uB85C \\uC778\\uC99D\\uB41C \\uCF54\\uB4DC\\uB97C\"\n          }), _jsx(Text, {\n            style: styles.grayText,\n            children: \"\\uD558\\uB2E8\\uC5D0 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n          })]\n        }), _jsxs(View, {\n          style: [styles.inputContainer],\n          children: [_jsxs(View, {\n            style: [styles.input, {\n              flexDirection: 'row'\n            }],\n            children: [_jsx(TextInput, {\n              style: {\n                flex: 1\n              },\n              onChangeText: function onChangeText(text) {\n                setEmailVerificationCode(text);\n              },\n              value: emailVerificationCode,\n              keyboardType: \"number-pad\",\n              returnKeyType: \"done\",\n              ref: emailCodeInputRef,\n              onSubmitEditing: function onSubmitEditing() {\n                handleEmailCodeVerificate();\n              },\n              editable: !isValidEmailCode,\n              maxLength: 4\n            }), _jsx(View, {\n              style: {\n                alignItems: 'flex-end'\n              },\n              children: _jsx(Text, {\n                children: `${Math.floor(countdown / 60)}:${countdown % 60 < 10 ? '0' : ''}${countdown % 60}`\n              })\n            })]\n          }), _jsx(TouchableOpacity, {\n            style: [styles.verifyButton, {\n              backgroundColor: isValidEmailCode ? \"grey\" : \"#FF965C\"\n            }],\n            onPress: function onPress() {\n              handleEmailCodeVerificate();\n            },\n            disabled: isValidEmailCode,\n            children: _jsx(Text, {\n              style: styles.verifyButtonText,\n              children: \"\\uC778\\uC99D\\uD558\\uAE30\"\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.referenceMessage,\n          children: [_jsx(Text, {\n            style: [styles.referenceMessageText, {\n              color: isValidEmailCode ? \"blue\" : \"red\"\n            }],\n            children: codeMessage\n          }), _jsx(TouchableOpacity, {\n            style: styles.resendButton,\n            onPress: function onPress() {\n              handleSendEmail();\n            },\n            children: _jsx(Text, {\n              style: styles.resendButtonText,\n              children: \"\\uC778\\uC99D \\uCF54\\uB4DC \\uC7AC\\uC804\\uC1A1\"\n            })\n          })]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: [styles.button, {\n          backgroundColor: !isValidEmailCode ? \"grey\" : \"#FF965C\"\n        }],\n        onPress: function onPress() {\n          navigation.navigate(\"SignUp3Screen\", {\n            userInfo: userInfo\n          });\n        },\n        disabled: !isValidEmailCode,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"\\uB2E4\\uC74C\"\n        })\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    padding: 20,\n    backgroundColor: \"white\"\n  },\n  innerContainer: {\n    flex: 1,\n    paddingHorizontal: 20,\n    marginTop: 20\n  },\n  header: {\n    flex: 1,\n    marginTop: 90\n  },\n  grayText: {\n    color: \"#7B7B7B\"\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 10,\n    marginTop: 20\n  },\n  subtitle: {\n    marginBottom: 30\n  },\n  input: {\n    flex: 1,\n    height: 40,\n    backgroundColor: \"#D9D9D920\",\n    borderWidth: 1,\n    borderColor: \"#BAC0CA\",\n    borderRadius: 10,\n    padding: 10\n  },\n  button: {\n    height: 40,\n    backgroundColor: \"#FF965C\",\n    borderRadius: 8,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginBottom: 10\n  },\n  buttonText: {\n    color: \"white\",\n    fontSize: 18\n  },\n  inputContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: \"100%\"\n  },\n  verifyButton: {\n    backgroundColor: \"#FF965C\",\n    borderRadius: 10,\n    marginLeft: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    width: \"30%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: 40\n  },\n  verifyButtonText: {\n    color: \"white\",\n    fontSize: 16\n  },\n  resendButton: {\n    alignItems: \"flex-end\"\n  },\n  resendButtonText: {\n    color: \"#5A5A5A\",\n    borderBottomWidth: 1,\n    fontSize: 12\n  },\n  referenceMessage: {\n    flexDirection: \"row\",\n    justifyContent: 'space-between',\n    marginTop: 20\n  },\n  referenceMessageText: {\n    fontSize: 12\n  }\n});","map":{"version":3,"names":["React","useEffect","useRef","useState","View","Text","TextInput","TouchableOpacity","StyleSheet","HeaderComponent","userEmailCodeVerificate","userSendEmail","jsx","_jsx","jsxs","_jsxs","SignUp2Screen","_ref","_ref2","_ref3","_ref4","navigation","route","emailCodeInputRef","_useState","params","userInfo","_useState2","_slicedToArray","setUserInfo","_useState3","_useState4","emailVerificationCode","setEmailVerificationCode","_useState5","_useState6","isValidEmailCode","setIsValidEmailCode","_useState7","_useState8","countdown","setCountdown","_useState9","_useState10","startCountdown","setStartCountdown","_useState11","_useState12","codeMessage","setCodeMessage","handleEmailCodeVerificate","isCodeRight","test","doEmailCodeVerificate","_asyncToGenerator","response","id","console","log","data","status","error","apply","arguments","handleSendEmail","doSendEmail","email","setCannotUseEmail","prev","concat","_toConsumableArray","intervalId","setInterval","clearInterval","current","focus","style","styles","container","children","title","cancelNavi","innerContainer","header","subtitle","grayText","inputContainer","input","flexDirection","flex","onChangeText","text","value","keyboardType","returnKeyType","ref","onSubmitEditing","editable","maxLength","alignItems","Math","floor","verifyButton","backgroundColor","onPress","disabled","verifyButtonText","referenceMessage","referenceMessageText","color","resendButton","resendButtonText","button","navigate","buttonText","create","justifyContent","padding","paddingHorizontal","marginTop","fontSize","fontWeight","marginBottom","height","borderWidth","borderColor","borderRadius","width","marginLeft","paddingVertical","borderBottomWidth"],"sources":["C:/Users/SSAFY/Desktop/S09P22D107/Dotori/frontend/src/screens/SignUp/SignUp2Screen.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  StyleSheet,\r\n} from \"react-native\";\r\n\r\nimport HeaderComponent from \"../Components/HeaderScreen\";\r\n// userInfoInquiry 이거 아님 바꿔야함.\r\nimport {userEmailCodeVerificate, userSendEmail} from \"../../apis/userapi\"\r\n\r\nexport default function SignUp2Screen({ navigation, route }) {\r\n  const emailCodeInputRef = useRef(null)\r\n  const [userInfo, setUserInfo] = useState(route.params.userInfo);\r\n  const [emailVerificationCode, setEmailVerificationCode] = useState(\"\")\r\n  const [isValidEmailCode, setIsValidEmailCode] = useState(false);\r\n  // 이메일 인증 카운트 다운\r\n  const [countdown, setCountdown] = useState(180); // 3분 = 300초\\\r\n  const [startCountdown, setStartCountdown] = useState(true);\r\n  const [codeMessage, setCodeMessage] = useState(\"\")\r\n\r\n\r\n  // 이메일 인증 코드 확인\r\n  const handleEmailCodeVerificate = () =>{\r\n    const isCodeRight = /^[0-9]{4}$/.test(emailVerificationCode);\r\n    if(isCodeRight){\r\n      doEmailCodeVerificate()\r\n    }else{\r\n      setCodeMessage('4자리 숫자 코드를 입력하세요.')\r\n    }\r\n  }\r\n\r\n  // const doEmailCodeVerificate = () =>{\r\n  //   setCodeMessage(\"인증 완료\")\r\n  //   setIsValidEmailCode(true)\r\n  //   setStartCountdown(false)\r\n  // }\r\n\r\n  const doEmailCodeVerificate = async () =>{\r\n    try{\r\n      const response = await userEmailCodeVerificate(userInfo.id, emailVerificationCode)\r\n      console.log(response.data)\r\n      console.log(response.status)   \r\n  \r\n      if(response.status === 200){\r\n        console.log(\"이메일 인증 코드 확인 성공\")\r\n        setCodeMessage(\"인증 완료\")\r\n        setIsValidEmailCode(true)\r\n        setStartCountdown(false)\r\n      }else if(response.status === 404){\r\n        console.log(\"이메일 인증 코드가 올바르지 않습니다.\")\r\n        setCodeMessage(\"인증에 실패하셨습니다.\")\r\n        setIsValidEmailCode(false)\r\n      }else if(response.status === 409){\r\n        console.log(\"인증번호가 만료되었습니다.\")\r\n        setCodeMessage(\"인증에 실패하셨습니다.\")\r\n        setIsValidEmailCode(false)\r\n      }else{\r\n        setCodeMessage(\"오류발생: 인증에 실패하셨습니다.\")\r\n        setIsValidEmailCode(false)\r\n      }\r\n    }catch(error){\r\n      setCodeMessage(\"오류발생: 인증에 실패하셨습니다.\")\r\n      setIsValidEmailCode(false)\r\n    }\r\n  }\r\n\r\n\r\n  const handleSendEmail = async () => {\r\n    if(!isValidEmailCode){\r\n      doSendEmail()\r\n    }\r\n  }\r\n  // const doSendEmail = async () => {\r\n  //   setStartCountdown(false)\r\n  //   //인증되면 풀어두기\r\n  //   setCountdown(300)\r\n  //   setStartCountdown(true)\r\n  // }\r\n  const doSendEmail = async () => {\r\n    setStartCountdown(false)\r\n    try{\r\n      const response = await userSendEmail(email)\r\n      if(response.status === 200){\r\n        setCountdown(5)\r\n        setStartCountdown(true)\r\n      }else if(response.status === 409){\r\n        setCodeMessage('이미 사용중인 이메일입니다.')\r\n        setCannotUseEmail((prev) => {[...prev, email]}) // 이메일이 중복되었으니 이것은 사용하지 못하도록 우선 넣어둠.\r\n        console.log(\"사용중인 이메일입니다.\")\r\n      }else{\r\n        console.log(\"오류 발생 : 이메일을 전송 실패\")\r\n        setCodeMessage(\"오류 발생 : 이메일을 전송 실패\")\r\n      }\r\n    }catch(error){\r\n      console.log('오류발생',error)\r\n      setCodeMessage(\"오류 발생 : 이메일을 전송 실패\")\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let intervalId;\r\n    \r\n    if (startCountdown && countdown > 0) {\r\n        intervalId = setInterval(() => {\r\n            setCountdown(countdown => countdown - 1)\r\n        }, 1000)\r\n    } else if (startCountdown===true && countdown === 0) {\r\n        clearInterval(intervalId)\r\n        setCodeMessage('이메일 인증시간 만료')\r\n    }\r\n    return () => clearInterval(intervalId); // 컴포넌트 unmount 시 타이머 해제\r\n  }, [startCountdown, countdown])\r\n\r\n  useEffect(()=>{\r\n    emailCodeInputRef.current.focus()\r\n  }, [])\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <HeaderComponent\r\n        title=\"회원가입(2/4)\"\r\n        cancelNavi=\"LoginScreen\"\r\n        navigation={navigation}\r\n      ></HeaderComponent>\r\n      <View style={styles.innerContainer}>\r\n        <View style={styles.header}>\r\n          <Text style={styles.title}>인증 코드 입력하기</Text>\r\n          <View style={styles.subtitle}>\r\n            <Text style={styles.grayText}>이메일로 인증된 코드를</Text>\r\n            <Text style={styles.grayText}>하단에 입력해주세요</Text>\r\n          </View>\r\n          <View style={[styles.inputContainer]}>\r\n            <View style={[styles.input, {flexDirection:'row'}]}>\r\n              <TextInput\r\n                style={{flex:1,}}\r\n                onChangeText={(text)=>{\r\n                  setEmailVerificationCode(text)\r\n                }}\r\n                value={emailVerificationCode}\r\n                // maxLength={16}\r\n                keyboardType=\"number-pad\"\r\n                returnKeyType =\"done\"\r\n                ref={emailCodeInputRef}\r\n                onSubmitEditing={()=>{\r\n                  handleEmailCodeVerificate()\r\n                }}\r\n                editable={!isValidEmailCode}\r\n                maxLength={4}\r\n              />\r\n              <View style={{alignItems:'flex-end'}}><Text>{`${Math.floor(countdown / 60)}:${countdown % 60 < 10 ? '0' : ''}${countdown % 60}`}</Text></View>\r\n            </View>\r\n            <TouchableOpacity style={[styles.verifyButton,{backgroundColor:isValidEmailCode?\"grey\":\"#FF965C\",}]}\r\n              onPress={()=>{\r\n                handleEmailCodeVerificate()\r\n              }}\r\n              disabled={isValidEmailCode}\r\n            >\r\n              <Text style={styles.verifyButtonText}>인증하기</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.referenceMessage}>\r\n            <Text\r\n              style={[styles.referenceMessageText,{color:isValidEmailCode?\"blue\":\"red\",}]}\r\n            >\r\n              {codeMessage}\r\n            </Text>\r\n            <TouchableOpacity style={styles.resendButton}\r\n              onPress={()=>{\r\n                handleSendEmail()\r\n              }}\r\n            >\r\n              <Text style={styles.resendButtonText}>인증 코드 재전송</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <TouchableOpacity\r\n          style={[styles.button,\r\n            {backgroundColor: !isValidEmailCode ? \"grey\" : \"#FF965C\",},\r\n          ]}\r\n          onPress={() => {\r\n            navigation.navigate(\"SignUp3Screen\", { userInfo: userInfo });\r\n          }}\r\n          disabled={!isValidEmailCode}\r\n        >\r\n          <Text style={styles.buttonText}>다음</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: \"space-between\",\r\n    padding: 20,\r\n    backgroundColor: \"white\",\r\n  },\r\n  innerContainer: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n    marginTop: 20,\r\n  },\r\n  header: {\r\n    flex: 1,\r\n    // justifyContent: \"center\",\r\n    // alignItems: \"center\",\r\n    marginTop: 90,\r\n  },\r\n  grayText: {\r\n    color: \"#7B7B7B\",\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: \"bold\",\r\n    marginBottom: 10,\r\n    marginTop: 20,\r\n  },\r\n  subtitle: {\r\n    marginBottom: 30,\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    height: 40,\r\n    backgroundColor: \"#D9D9D920\",\r\n    borderWidth: 1,\r\n    borderColor: \"#BAC0CA\",\r\n    borderRadius: 10,\r\n    padding: 10,\r\n    // textAlign: \"center\",\r\n  },\r\n  button: {\r\n    height: 40,\r\n    backgroundColor: \"#FF965C\",\r\n    borderRadius: 8,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginBottom: 10,\r\n  },\r\n  buttonText: {\r\n    color: \"white\",\r\n    fontSize: 18,\r\n  },\r\n  inputContainer: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    width: \"100%\",\r\n  },\r\n  verifyButton: {\r\n    backgroundColor: \"#FF965C\",\r\n    borderRadius: 10,\r\n    marginLeft: 10,\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 5,\r\n    width: \"30%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    height: 40,\r\n  },\r\n  verifyButtonText: {\r\n    color: \"white\",\r\n    fontSize: 16,\r\n  },\r\n  resendButton: {\r\n    alignItems: \"flex-end\",\r\n    // marginTop: 20,\r\n    // borderBottomWidth: 1,\r\n  },\r\n  resendButtonText: {\r\n    color: \"#5A5A5A\",\r\n    borderBottomWidth: 1,\r\n    fontSize:12,\r\n  },\r\n  referenceMessage:{\r\n    flexDirection:\"row\", \r\n    justifyContent:'space-between', \r\n    marginTop: 20,\r\n  },\r\n  referenceMessageText:{\r\n    fontSize: 12,\r\n  }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}